# Game: kama-surf

## 概要
カマサウルスで波に乗って進む、ワンタップジャンプの回避アクションです。
岩や流木をよけつつ、スターを集めてスコアを伸ばします。

## 操作方法
- **PC**: クリック / Space でジャンプ
- **タッチ**: タップでジャンプ

## ルール / 仕様
- **目的**: 障害物に当たらずに進み、スコアを伸ばす
- **スコア**: 時間経過で少しずつ増加、スター取得で +50
- **ゲームオーバー**: 障害物に接触すると終了（タップでタイトルへ）

## 画面 / UI
- **SCORE表示**: 左上
- **タイトル/ゲームオーバー**: 画面中央のモーダル表示
- **戻るボタン**: 左上（常時表示）
- **あそびかた**: 画面下の折りたたみ（details）

## 実装メモ（設計）
- **エントリ**: `index.html`
- **メインロジック**: `game.js`（Phaser）
- **主要な状態(state)**: `gameState`（TITLE/PLAYING/GAMEOVER）, `score`, `gameSpeed`
- **データ保存**: なし

## ファイル構成
- `index.html`: 画面枠（ゲーム + 操作説明）
- `style.css`: レスポンシブレイアウト / safe-area / UI
- `game.js`: Phaser ゲーム本体

## 既知の課題 / TODO
- 端末差の操作感（ジャンプ高さ/速度）を遊びながら微調整する

## 不具合メモ
- **症状**: 画面が水色のままでゲームが始まらないことがある
- **原因**: `game.js` で `Graphics.fillStar()` を呼んでいたが、Phaser の `Graphics` にはそのAPIが存在せず、preload で例外になっていた
- **対応**: `fillPoints()` を使って星形ポリゴンを描画する方式に変更（あわせて `keyboard` が無い環境でも落ちないようガード追加）

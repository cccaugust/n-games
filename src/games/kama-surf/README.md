# Game: kama-surf

## 概要
イルカを操作して波の上を疾走する爽快アクションゲーム！
敵を倒しながらどんどん進んで、ハイスコアを目指そう！

## 操作方法

### PC
- **↑↓ / W S**: 上下移動
- **スペース**: ダッシュ攻撃

### タッチ（スマホ・タブレット）
- **タップ**: ダッシュ攻撃
- **ドラッグ**: 上下移動

## ルール / 仕様

### 基本ルール
- イルカを上下に動かして敵やアイテムに接触
- **ダッシュ中**に敵や岩に当たると倒せる！
- ダッシュしていない時に敵や岩に当たるとダメージ
- HP（ハート3つ）がなくなるとゲームオーバー

### スコアシステム
- **時間経過**: 少しずつスコア増加（スピードに比例）
- **敵撃破**: サメ120点、カモメ90点、クラゲ70点、フグ180点
- **コンボボーナス**: 連続撃破で点数アップ！
- **アイテム**: コイン15点、スター60点、クリスタル250点

### 敵キャラクター
| 敵 | 特徴 |
|---|---|
| 🦈 サメ | 水中を高速で泳ぐ。120点 |
| 🦅 カモメ | 空を飛ぶ。上下に揺れる。90点 |
| 🪼 クラゲ | ゆらゆら動く。70点 |
| 🐡 フグ | 回転しながら来る。180点（高得点！） |

### アイテム
| アイテム | 効果 |
|---|---|
| 💰 コイン | +15点 |
| ⭐ スター | +60点 |
| 🐟 魚 | スピードアップ +25点 |
| ❤️ ハート | HP回復（満タン時は+100点） |
| 🛡️ シールド | 1回ダメージ無効 |
| 💎 クリスタル | +250点（レア！） |

### 難易度
- 時間経過でスピードアップ
- 敵の出現頻度も上がる

## 画面 / UI
- **HP**: 左上（ハート表示）
- **SCORE**: 右上
- **HI-SCORE**: 右上（スコア下）
- **コンボ表示**: 画面中央上（2コンボ以上で表示）
- **戻るボタン**: 左上FAB

## エフェクト
- **水しぶき**: 水面付近で発生
- **敵撃破**: キラキラ爆発エフェクト
- **アイテム取得**: スパークエフェクト
- **ダッシュ**: スピードライン + トレイル
- **ダメージ**: 画面シェイク + フラッシュ

## 効果音
Web Audio APIで動的生成（外部ファイル不要）
- ダッシュ / 敵撃破 / アイテム取得 / ダメージ / コンボ / ゲームオーバー など

## 実装メモ

### ファイル構成
- `index.html`: 画面枠
- `style.css`: レスポンシブレイアウト
- `game.js`: Phaser 3 ゲーム本体（約1550行）

### 主要な状態
- `gameState`: TITLE / PLAYING / GAMEOVER
- `score`, `highScore`: スコア
- `combo`, `maxCombo`: コンボ
- `hp`: 残りHP
- `speedMultiplier`: 難易度（時間で上昇）
- `isInvincible`: 無敵状態
- `hasShield`: シールド状態

### グラフィック
すべてPhaser Graphics APIで動的生成
- イルカ、敵（サメ・カモメ・クラゲ・フグ）
- アイテム（コイン・スター・魚・ハート・シールド・クリスタル）
- 障害物（岩）、パーティクル、波、泡など

### データ保存
- **ハイスコア**: localStorage（`kamaSurfHighScore`）

## レスポンシブ対応
- 基本解像度: 960×540（16:9）
- Phaser.Scale.FIT で自動スケーリング
- PC / タブレット / スマホ対応

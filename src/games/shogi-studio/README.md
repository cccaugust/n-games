# 将棋スタジオ

## 概要
まず「配置選択（setup）」で、どの配置で始めるかを選びます（プレビューつき）。  
盤面サイズ（9×9 / 19×19 / 自由）を選んで、配置編集した盤面で **同一端末の対人戦** ができる将棋ボードです。  
駒図鑑（説明＋移動図）もついています。

## 操作方法
- **配置選択（setup）**:
  - 「プレイ」で対局スタート
  - 「編集」で、選んだ配置をペイント感覚で直してから遊べます
  - 「新しく作る」で、空盤から作れます
- **対局**:
  - 自分の駒をタップ → 行き先をタップで移動
  - 相手の駒の上に移動すると取り、**持ち駒** に入ります
  - 持ち駒をタップ → 空きマスをタップで打てます
- **配置編集**:
  - 「配置編集」から、置く駒（先手/後手/消しゴム）を選んで盤面をタップ
  - 「プリセット適用」で、9×9の標準配置 or 空盤を作れます
  - 「マイ配置に保存」で、名前をつけて保存できます（setupに並びます）
- **図鑑**:
  - 駒の説明と、移動の図（先手視点）を確認できます

## 盤サイズと表示（レスポンシブ）
- 盤面は常に **スクロールなし** で画面に収まるよう、表示サイズを自動で調整します。
- スマホのノッチ等に当たらないよう `safe-area` の余白も確保しています。

## 構成
- `setup.html` / `setup.js`: 配置選択（プレビュー、保存した配置の一覧）
- `index.html`: UI（盤、タブ、編集/図鑑モーダル）
- `game.js`: 盤面/手番/持ち駒/編集/書き出し・読みこみ
- `pieces.js`: 駒データ（通常＋拡張）と図鑑表示用情報

## 状態/データ
- 直近の盤面・設定は `localStorage` に保存します
  - key: `ngames.shogiStudio.v1`
- 保存した「マイ配置」は `localStorage` に保存します
  - key: `ngames.shogiStudio.library.v1`
- 配置は JSON で **書き出し / 読みこみ** できます


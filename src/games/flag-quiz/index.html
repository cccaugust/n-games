<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>国旗あてクイズ | N-Games</title>
    <link rel="stylesheet" href="../../style.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <div class="container">
      <a class="back-link" href="../../pages/portal/portal.html">&larr; もどる</a>

      <main class="game-shell" aria-label="国旗あてクイズ">
        <header class="topbar">
          <div class="title-wrap">
            <div class="title">国旗あてクイズ</div>
            <div class="subtitle">はたを見て、くにの名前をえらぼう！</div>
          </div>

          <div class="hud" aria-label="スコア">
            <div class="hud-chip"><span class="hud-label">スコア</span><span id="score" class="hud-value">0</span></div>
            <div class="hud-chip"><span class="hud-label">れんぞく</span><span id="streak" class="hud-value">0</span></div>
            <div class="hud-chip" id="remainingChip">
              <span class="hud-label">のこり</span><span id="remaining" class="hud-value">10</span>
            </div>
          </div>
        </header>

        <section class="panel">
          <div class="controls">
            <div class="mode-title">モード</div>
            <div class="segmented" role="radiogroup" aria-label="モード">
              <label class="seg">
                <input type="radio" name="mode" value="ten" checked />
                <span>10もん</span>
              </label>
              <label class="seg">
                <input type="radio" name="mode" value="endless" />
                <span>エンドレス</span>
              </label>
            </div>

            <label class="toggle" title="効果音">
              <input id="seToggle" type="checkbox" checked />
              <span>SE</span>
            </label>
          </div>

          <div id="flagCard" class="flag-card" aria-live="polite">
            <div class="flag-wrap" aria-label="国旗">
              <div class="flag-skeleton" id="flagSkeleton" aria-hidden="true"></div>
              <img id="flagImg" class="flag-img" alt="国旗" decoding="async" loading="eager" referrerpolicy="no-referrer" />
              <div id="flagEmoji" class="flag-emoji" aria-hidden="true"></div>
            </div>
            <div class="question">この国はどこ？</div>
          </div>

          <div id="options" class="options" aria-label="こたえのボタン"></div>
          <div class="hint">ヒント：1〜4キーでもえらべるよ</div>
        </section>

        <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
        <div class="confetti-layer" id="confettiLayer" aria-hidden="true"></div>

        <div class="overlay" id="overlay" aria-hidden="false">
          <div class="overlay-card">
            <div class="overlay-title">国旗あてクイズ</div>
            <div class="overlay-sub">せいかいすると キラッ！まちがえると ブルブル！</div>

            <div class="overlay-actions">
              <button class="btn-primary" id="startBtn" type="button">スタート！</button>
              <button class="btn-secondary" id="practiceBtn" type="button">ためしに 1もん</button>
            </div>

            <div class="overlay-note">
              ※ 国旗画像はオンライン（FlagCDN）から読みこみます。<br />
              オフラインのときは絵文字表示になることがあります。
            </div>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="./game.js"></script>
  </body>
</html>

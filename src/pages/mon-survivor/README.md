# Page: mon-survivor

## 概要
大量の敵が迫ってくる中で、できるだけ長く生き残るサバイバー系アクションです（攻撃はオート）。

## 操作方法
- **PC**:
  - 矢印キー / WASD で移動
  - スペース / Shift でガード（敵を弾き返してダメージを与える）
- **タッチ**:
  - 画面左下の仮想スティックで移動
  - 画面右下のGUARDボタンでガード

## ルール / 仕様
- **目的**: 敵に接触して減るHPが 0 になる前に、できるだけ長く生き残る
- **スコア**: 倒した敵の数（ゲームオーバー表示で確認）
- **ガード**: 敵と接触するタイミングで押すと、敵を弾き返してダメージを与える
- **ゲームオーバー**: HP が 0 になると終了

## 新機能

### プレイヤースキン選択
- スタート画面の「プレイヤー設定」から変更可能
- **サンプル**: ドット絵メーカーのサンプルキャラから選択
- **自作ドット絵**: ドット絵メーカーで作成したキャラを使用
- **ポケモン図鑑**: 図鑑のポケモンをプレイヤーに設定

### 敵キャラクターの多様化
- ポケモン図鑑のキャラ + ドット絵メーカーのサンプルが敵として登場
- ドット絵はフレームアニメーションで動く
- プレイヤーと同じキャラは敵として出現しない

### 敵AIバリエーション
- **追跡(chase)**: プレイヤーに向かって直進
- **ジグザグ(zigzag)**: 蛇行しながら追跡
- **周回(orbit)**: プレイヤーの周りを回りながら接近
- **突進(dash)**: 一定間隔で高速突進
- **シャイ(shy)**: 近づくと逃げる、遠いと追う

### パワーアップアイテム
- **回復(♥)**: HP+30
- **スピード(⚡)**: 一定時間移動速度アップ
- **攻撃力(⚔)**: 永続的に攻撃力アップ
- **マグネット(◎)**: 一定時間、経験値の吸引範囲拡大

### エフェクトと効果音
- Web Audio APIによる効果音（攻撃、被ダメ、レベルアップ等）
- パーティクルエフェクト（爆発、キラキラ）
- 画面シェイク（被ダメ時、敵撃破時）

## 画面 / UI
- 上部: レベル / 経験値バー / 経過時間
- 下部: HPバー
- レベルアップ時: 強化カード選択（8種類からランダム3つ）
- スマホ/タブレット: 左下に仮想スティック、右下にGUARDボタン

## レベルアップ強化
1. 周回軌道ソード追加
2. 周回軌道範囲拡大
3. 射撃連射速度アップ
4. 射撃威力アップ
5. 全攻撃力アップ
6. 最大HPアップ
7. 移動速度アップ
8. ガード強化

## 実装メモ（設計）
- **エントリ**: `index.html`
- **メインロジック**: `game.js`
- **設定画面**: `settings.html` / `settings.js` / `settings.css`
- **主要な状態(state)**: player, enemies, projectiles, particles, gems, powerUps, shockWaves, frame, score, isGameOver, isPaused
- **データ保存**: プレイヤースキン設定のみ localStorage

## ファイル構成
- `index.html`: 画面レイアウト（canvas + HUD + 画面UI）
- `style.css`: 見た目（HUD/モーダル/仮想スティック/ガードボタン）
- `game.js`: メインループ、スポーン、当たり判定、UI更新、入力、効果音
- `entities.js`: Player/Enemy/Projectile/PowerUpItem/ShockWave などのクラス
- `settings.html/js/css`: プレイヤースキン選択画面

## 既知の課題 / TODO
- 端末サイズにより仮想スティック位置/サイズの微調整余地あり
- より多くのアップグレードオプションを追加予定
